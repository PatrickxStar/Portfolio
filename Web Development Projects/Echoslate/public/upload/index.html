<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload | EchoSlate</title>
  <link rel="stylesheet" href="/css/styles.css">
  
</head>
<body style="display: flex; flex-direction: column; min-height: 100vh; margin: 0; padding: 0;" class="bg-gray-200 dark:bg-gray-800 dark:text-white">

  
  <header class="bg-gray-800 text-white p-4 fixed w-full z-10 dark:bg-gray-900">
    <nav class="max-w-7xl mx-auto flex justify-between items-center">
        
        <div class="text-2xl font-bold">
            <a href="/" class="text-white hover:text-gray-400"> EchoSlate </a>
        </div>

        
        <ul class="flex space-x-4">
            
                <li>
                    <a href="/users/" class="text-white hover:text-gray-400"> Users </a>
                </li>
            
                <li>
                    <a href="/upload/" style="color: #4A90E2;"> Upload </a>
                </li>
            
                <li>
                    <a href="/search/" class="text-white hover:text-gray-400"> Search </a>
                </li>
            
                <li>
                    <a href="/about/" class="text-white hover:text-gray-400"> About </a>
                </li>
            
                <li>
                    <a href="/contact/" class="text-white hover:text-gray-400"> Contact </a>
                </li>
            
        </ul>

        
        <div class="flex items-center space-x-4">
            
            <button id="dark-mode-toggle" class="focus:outline-none" aria-label="Toggle dark mode">
                <svg id="dark-mode-icon" class="w-6 h-6 text-white dark:text-yellow-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path id="sun-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2v2m6.364 1.636l-1.414 1.414M22 12h-2 M17.657 17.657l-1.414-1.414M12 22v-2 m-4.95-1.636l1.414-1.414M2 12h2 m1.636-4.95l1.414 1.414" />
                    <path id="moon-icon" class="hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12.79A9 9 0 0112.21 3 a9 9 0 100 18c4.63 0 8.44-3.5 8.79-7.9z" />
                </svg>
            </button>

            
            <div class="flex space-x-4">
                
                <a href="/es/upload/" style="color: #4A90E2;"> English </a>

                
                <a href="/es/" class="text-white hover:text-gray-400"> Español </a>

                
                <div class="relative">
                    <button id="userHeader" class="text-lg font-bold" style="display: none;"></button>
                    <div id="userDropdown" class="absolute right-0 mt-2 w-48 bg-white text-gray-800 rounded-lg shadow-lg py-2 hidden">
                        <a href="#" id="logoutButton" class="block px-4 py-2 text-sm hover:bg-gray-100">Log Out</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const userHeader = document.getElementById("userHeader");
            const userDropdown = document.getElementById("userDropdown");
            const logoutButton = document.getElementById("logoutButton");
            const storedEmail = localStorage.getItem("loggedInEmail");

            
            if (storedEmail && userHeader) {
                userHeader.textContent = storedEmail;
                userHeader.style.display = "block";
                
                
                userHeader.addEventListener("click", () => {
                    userDropdown.classList.toggle("hidden");
                });
                
                
                logoutButton.addEventListener("click", (e) => {
                    e.preventDefault();
                    localStorage.removeItem("loggedInEmail");
                    location.reload(); 
                });
            } else if (userHeader) {
                userHeader.style.display = "none";
            }
        });
    </script>
</header>

  
  <div style="flex-grow: 1;">
    <main class="py-16">
      
<section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <h1 class="text-3xl font-extrabold text-gray-900 dark:text-white mb-8">Upload</h1>
  <div class="prose dark:prose-dark mb-8">
    <p>Please upload your resume below:</p>
<section class="max-w-lg mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <h1 class="text-3xl font-extrabold text-gray-900 dark:text-white mb-6">Upload Your Resume</h1>

  <form id="resumeUploadForm" enctype="multipart/form-data" class="bg-white dark:bg-gray-800 p-6 rounded shadow">
    
    <div class="mb-4">
      <label for="name" class="block text-gray-700 dark:text-gray-300 mb-2">Name</label>
      <input type="text" id="name" name="name" class="w-full p-2 border rounded" placeholder="Enter your name" required>
    </div>

    
    <div class="mb-4">
      <label for="email" class="block text-gray-700 dark:text-gray-300 mb-2">Email</label>
      <input type="email" id="email" name="email" class="w-full p-2 border rounded" placeholder="Enter your email" required>
    </div>

    
    <div class="mb-4">
      <label for="phone" class="block text-gray-700 dark:text-gray-300 mb-2">Phone</label>
      <input type="tel" id="phone" name="phone" class="w-full p-2 border rounded" placeholder="Enter your phone number" required>
    </div>

    
    <div class="mb-4">
      <label for="github" class="block text-gray-700 dark:text-gray-300 mb-2">GitHub</label>
      <input type="url" id="github" name="github" class="w-full p-2 border rounded" placeholder="Enter your GitHub profile link" required>
    </div>

    
    <div class="mb-4">
      <label for="profileImage" class="block text-gray-700 dark:text-gray-300 mb-2">Upload Profile Image</label>
      <input type="file" id="profileImage" name="profileImage" accept="image/*" class="w-full" required>
    </div>


    
    <div class="mb-4">
      <label for="resume" class="block text-gray-700 dark:text-gray-300 mb-2">Select Your Resume</label>
      <input type="file" id="resume" name="resume" accept=".pdf,.doc,.docx" class="w-full" required>
    </div>

    <button type="submit" class="bg-green-600 text-white px-6 py-3 rounded hover:bg-green-700 transition">
      Upload
    </button>

    <div id="popupMessage" class="mt-4 hidden p-4 rounded text-white"></div>
  </form>
</section>

<script>
  document.getElementById('resumeUploadForm').addEventListener('submit', function(event) {
    event.preventDefault();
    const formData = new FormData(this);

    fetch('http://localhost:3000/upload', {
      method: 'POST',
      body: formData,
    })
    .then(response => response.json())
    .then(data => {
      if (data.message) {
        window.location.href = '/users'; 
      } else {
        throw new Error('Upload failed');
      }
    })
    .catch(error => {
      showPopup('Failed to upload resume. Please try again.', 'bg-red-600');
    });
  });

  function showPopup(message, bgColor) {
    const popupMessage = document.getElementById('popupMessage');
    popupMessage.textContent = message;
    popupMessage.classList.remove('hidden', 'bg-green-600', 'bg-red-600');
    popupMessage.classList.add(bgColor);
  }
</script>


  </div>

  
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    
  </div>
</section>

    </main>
  </div>

  
  <footer style="width: 100%; background-color: #111827; color: #9ca3af; text-align: center; padding: 2rem; position: relative;">
    <div style="max-width: 1200px; margin: 0 auto;">
      <p>© 2024 EchoSlate. All rights reserved.</p>
    </div>
</footer>

 

  
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
    const firebaseConfig = {
      apiKey: "AIzaSyA9w_PQS8HnG4q4PjW8fQN1isBzftDeZBE",
      authDomain: "testechoslate.firebaseapp.com",
      projectId: "testechoslate",
      storageBucket: "testechoslate.appspot.com",
      messagingSenderId: "987831629951",
      appId: "1:987831629951:web:f37aeba48e5fc10b6ce74a"
    };
    const app = initializeApp(firebaseConfig);
    console.log("Firebase initialized");
  </script>

  
  <script type="module" src="/js/auth.js"></script>

  
  <script src="/js/dark-mode-toggle.js"></script>

</body>
</html>